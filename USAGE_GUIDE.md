# Causalyze 使用指南

## 安装与运行

1. 确保您已安装 Python 3.7 或更高版本
2. 安装依赖库：
   ```bash
   pip install -r requirements.txt
   ```
3. 运行应用：
   ```bash
   streamlit run app.py
   ```
4. 应用将在浏览器中自动打开，默认地址为：http://localhost:8501

## 快速上手指南

### 步骤 1: 上传数据文件
- 点击左侧面板的"Browse files"按钮上传CSV或Excel文件
- 或者使用我们提供的示例数据：`example_data.csv`

### 步骤 2: 选择列
在左侧面板，您需要选择：
- **时间列**：选择表示时间点的列（如日期）
- **目标变量**：选择您想要分析的结果变量（如用户增长）
- **特征列**：选择可能影响目标变量的特征列

### 步骤 3: 查看数据可视化
在中间面板，您可以：
- 查看目标变量随时间的变化趋势图
- 查看每个特征随时间的变化趋势图
- 分析特征与目标变量之间的相关性

### 步骤 4: 运行因果推断分析
在右侧面板，您可以：
- 选择一个"处理特征"（您想要测试因果关系的主要特征）
- 点击"Run Causal Inference"按钮运行分析
- 查看分析结果，了解哪些特征对目标变量有因果影响
- 通过横条图直观了解各特征的因果影响程度

## 数据要求

为获得最佳分析效果，您的数据应包含：
1. 一个时间列（日期或时间戳）
2. 一个明确的目标结果列（如用户增长、收入等）
3. 多个可能影响目标结果的特征列
4. 建议至少有30行数据以确保结果有统计意义

## 示例数据说明

提供的`example_data.csv`数据包含：
- **date**: 时间列，按周记录的日期
- **ad_spend**: 广告支出
- **discount_rate**: 折扣率
- **email_campaigns**: 邮件活动数量
- **social_media_engagement**: 社交媒体互动量
- **competitor_activity**: 竞争对手活动指数
- **weather_index**: 天气指数
- **user_growth**: 用户增长数（目标变量）

## 实例分析

使用示例数据时，可以进行如下分析：
1. 将"date"设为时间列
2. 将"user_growth"设为目标变量
3. 选择其他列作为特征列
4. 在右侧panel选择"ad_spend"作为处理特征
5. 运行因果推断分析
6. 查看结果，了解各因素对用户增长的实际影响程度

## 进阶提示

- 对于大型数据集，分析可能需要更长时间
- 如果分析遇到错误，请检查数据中是否有缺失值
- 针对分类特征和连续特征，算法会自动选择合适的处理方式
- 结果中的SHAP值表示特征的因果影响强度，可用于决策支持 